<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body onload="f()">
<form action=""  method="post" enctype="multipart/form-data">
    <label for="fileId"><img src="../static/Images/addpic.jpg" alt=""></label>
            <input type="file" id="fileId" name="image" value="请上传图片"/>
            <input type="hidden" id="hiddId" name="id" value="1"/>
            <input type="button" id="submit" value="上传"/>
</form>
<div class="ddddd"></div>
   
<script type="text/javascript">
    $("#submit").click(function () {
        var a = new FormData();
        a.append("image", $("#fileId")[0].files[0]);
        a.append("id", 1);
        $.ajax({
            url: "http://localhost.....",
            xhrFields: {
                withCredentials: true
            },
            type: "POST",
            cache: false,
            data: a,
            processData: false,
            contentType: false,
            async: false,
            success: function (result) {

            }
            //cache 上传文件不需要缓存，所以设置false
            //processData 因为data值是FormData对象，不需要对数据处理
            //contentType 因为是由form表单构造的FormData对象，且已声明了属性enctype，所以为false
        })
    })
</script>
{#<div id="js-uploadList_fuck0" class="img-box">#}
{#    <div class="img-border"><span class="js-upload_delete icon-delete_fill red" data-index="0"></span><img#}
{#            src="">#}
{#    </div>#}
{#</div>#}
{#<div id="js-uploadList_fuck0" class="img-box">#}
{#    <div class="img-border"><span class="js-upload_delete icon-delete_fill red" data-index="0"></span><img#}
{#            src="https://img.alicdn.com/bao/uploaded/i3/O1CN011V3T3P6H2R156Ul_!!0-fleamarket.jpg_728x728.jpg">#}
{#    </div>#}
{#    <div id="js-uploadList_fuck1" class="img-box">#}
{#        <div class="img-border"><span class="js-upload_delete icon-delete_fill red" data-index="1"></span><img#}
{#                src="https://img.alicdn.com/bao/uploaded/i3/O1CN011V3T3P6H2R156Ul_!!0-fleamarket.jpg_728x728.jpg">#}
{#        </div>#}
{#    </div>#}
{#</div>#}

<div id="js-uploadList_fuck0" class="img-box"> <div class="img-border"><span class="js-upload_delete icon-delete_fill red" data-index="0"></span> <img src="http://pgwecu7z4.bkt.clouddn.com/Fkid7rCDM5ROTwArvG8i9tlTy82j"> </div> </div><div id="js-uploadList_fuck1" class="img-box"> <div class="img-border"><span class="js-upload_delete icon-delete_fill red" data-index="1"></span> <img src="http://pgwecu7z4.bkt.clouddn.com/FkaNIOXPi_sXqQthQyzHlDtd_VVK"> </div> </div>
</body>
<script>
    function f() {
        $("#ddddd").append("<div id=\"js-uploadList_fuck0\" class=\"img-box\">\n" +
            "    <div class=\"img-border\"><span class=\"js-upload_delete icon-delete_fill red\" data-index=\"0\"></span><img src=\"https://img.alicdn.com/bao/uploaded/i3/O1CN011V3T3P6H2R156Ul_!!0-fleamarket.jpg_728x728.jpg\"></div>\n" +
            "</div>\n" +
            "<div id=\"js-uploadList_fuck0\" class=\"img-box\">\n" +
            "    <div class=\"img-border\"><span class=\"js-upload_delete icon-delete_fill red\" data-index=\"0\"></span>\n" +
            "        <img src=\"https://img.alicdn.com/bao/uploaded/i3/O1CN011V3T3P6H2R156Ul_!!0-fleamarket.jpg_728x728.jpg\">\n" +
            "    </div>\n" +
            "</div>")

    }
</script>
</html>